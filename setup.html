
<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steam Setup</title>

    <link rel="alternate" type="application/rss+xml"  title="XML Feed for Steam" href="/rss.xml" />
    <link rel="alternate" title="JSON Feed for Steam" type="application/json" href="/feed.json" />

    <link rel="stylesheet" href="/_themes/minimal/css/splendor.css"/>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

</head>

<body class="setup">
    <header>
    <a class="logo" href="/">Steam</a>

    <ul class="nav">
      <li><a href="/about.html">About</a></li>
      <li><a href="/setup.html">Setup</a></li>
      <li><a href="/dropbox.html">Dropbox</a></li>
      <li><a href="/archive.html">Blog</a></li>
    </ul>
  </header>
  <div class="container">
<!---
title: Steam Setup
--->
<h1>Steam Setup</h1>
<p>Steam is a minimal cms powered by Dropbox and Markdown. The concept is simple. You save markdown into a Dropbox folder and Steam generates a website.</p>
<h2>System Requirements</h2>
<p>For this to work you need a server with php. Any shared hosting plan should be able to handle it. </p>
<h2>Installation</h2>
<p>Copy the Steam files to your server, probably in the root directory if you want Steam to power your homepage.</p>
<p>Modify the contents of _admin/config-SAMPLE.php then rename it to config.php. <a href="config.html">For more information about the config.php file, go here</a>.</p>
<p>You will probably want to change the navigation in your header. To do this, modify the _themes/minimal/nav.php file to suit your needs.</p>
<p>Create an app in Dropbox (<a href="dropbox.html">Full Dropbox instructions</a>) and edit the dropbox credentials in the &quot;dropbox-sync.php&quot; file.</p>
<p>Put some markdown files into your dropbox folder. </p>
<p>Visit www.YourWebsite.com/_admin/?password=YourPassword (replace &quot;YourPassword&quot; with whatever you set in the config.php file). Next, click the &quot;sync&quot; button to initiate the first sync between Dropbox and your Steam installation. This will copy all your Dropbox files down and process them into HTML.</p>
<h2>Syncing</h2>
<p>Whenever you change a Dropbox file it needs to sync and process the file. You do this by visiting www.YourWebsite.com/_admin/?password=YourPassword or you can setup a cron job to run this task automatically at intervals you define. The cron job would look something like this:</p>
<p>php -q /Users/username/full/path/to/_admin/dropbox-sync.php password=YourPassword</p>
<p>If you visit &quot;/_admin/dropbox-sync.php?password=YourPassword&quot; notice that at the bottom I try to generate what I think should be the correct path for your cron job.</p>
<h2>Front Matter</h2>
<p>Your markdown files can start with some data that looks like this:</p>
<p><code>&lt;!--- title: Your Amazing Title date: Saturday, 21 Jan 2017 10:18:34 MST published: true ---&gt;</code></p>
<p>This is completely optional, but this data will populate different parts of the template files. The &quot;title&quot; is used to generate the page title. The &quot;date&quot; is only used for blog posts. You can change &quot;published&quot; field to false if you aren't ready to publish the page yet.  </p>
<p>If you have used yaml front matter before you will note one difference. Yaml usually starts with &quot;---&quot; and ends with &quot;---&quot;. My implementation changes it slightly to start with &quot;&lt;!---&quot; and end with &quot;---&gt;&quot;. The reason for this difference if you haven't already figured it out is that this is how you comment out code in html. By commenting out the code it lets us have the benefits of yaml without the yaml actually appearing on the page.</p>
<h2>Gotchas</h2>
<p>You should know that once an HTML file is generated on your server it will not be deleted unless you physically delete it. This is for protection because I don't want to blow away files programmatically.</p>
<p>Because Steam doesn't delete any HTML files after they are created, you may find yourself in a situation where you change a markdown file's YAML from &quot;published: true&quot; to &quot;published: false&quot; thinking this will make the file invisible to visitors on your site. Because the html file is already generated and you didn't manually delete it, it is technically still visible if users navigate directly to that file.</p>
<h2>Reserved File Names</h2>
<p>There are certain file names that you should avoid because they will collide with files that steam creates dynamically. They are:</p>
<p>File names to avoid:
archive.md
archive.html
humans.txt
feed.json
posts.json
pages.json
rss.xml
sitemap.xml
sitemap.md
sitemap.html</p>
<p>Folder names to avoid:
_admin
_dropbox
_themes
_writing</p>
<h1>Running Locally</h1>
<p>If you want to run Steam locally you need to have php running. I am a Mac user so I usually use MAMP but another method is to open the terminal, cd to the directory where your project lives, then type this:</p>
<p><code>php -S localhost:8000</code></p>
<p>Then in your browser you should be able to go to: localhost:8000 and view your website.</p>
<div class="nextPost" style="display:none;"></div>
<div class="previousPost" style="display:none;"></div>

</div>

<footer>
  <small style="color: #ccc;">&copy; 2018 &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp; <a style="color: #ccc;" href="/humans.txt">humans.txt</a> &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp; <a style="color: #ccc;" href="/sitemap.xml">sitemap.xml</a> &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp; <a style="color: #ccc;" href="https://adrian3.github.io/steam/">steam powered</a></small>
</footer>

<script type="text/javascript">
  // {{customJavascript}}
</script>
</body>
</html>
